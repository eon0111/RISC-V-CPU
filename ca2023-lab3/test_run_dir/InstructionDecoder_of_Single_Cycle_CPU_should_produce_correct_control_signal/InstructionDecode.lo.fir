FIRRTL version 1.2.0
circuit InstructionDecode :
  module InstructionDecode :
    input clock : Clock
    input reset : UInt<1>
    input io_instruction : UInt<32> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_regs_reg1_read_address : UInt<5> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_regs_reg2_read_address : UInt<5> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_ex_immediate : UInt<32> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_ex_aluop1_source : UInt<1> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_ex_aluop2_source : UInt<1> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_memory_read_enable : UInt<1> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_memory_write_enable : UInt<1> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_wb_reg_write_source : UInt<2> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_reg_write_enable : UInt<1> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]
    output io_reg_write_address : UInt<5> @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 127:14]

    node opcode = bits(io_instruction, 6, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 141:30]
    node funct3 = bits(io_instruction, 14, 12) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 142:30]
    node funct7 = bits(io_instruction, 31, 25) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 143:30]
    node rd = bits(io_instruction, 11, 7) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 144:30]
    node rs1 = bits(io_instruction, 19, 15) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 145:30]
    node rs2 = bits(io_instruction, 24, 20) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 146:30]
    node _io_regs_reg1_read_address_T = eq(opcode, UInt<6>("h37")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 148:43]
    node _io_regs_reg1_read_address_T_1 = mux(_io_regs_reg1_read_address_T, UInt<5>("h0"), rs1) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 148:35]
    node _immediate_T = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 152:32]
    node _immediate_T_1 = bits(_immediate_T, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 152:13]
    node _immediate_T_2 = mux(_immediate_T_1, UInt<20>("hfffff"), UInt<20>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 152:13]
    node _immediate_T_3 = bits(io_instruction, 31, 20) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 152:53]
    node _immediate_T_4 = cat(_immediate_T_2, _immediate_T_3) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 152:8]
    node _immediate_T_5 = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 154:56]
    node _immediate_T_6 = bits(_immediate_T_5, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 154:37]
    node _immediate_T_7 = mux(_immediate_T_6, UInt<21>("h1fffff"), UInt<21>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 154:37]
    node _immediate_T_8 = bits(io_instruction, 30, 20) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 154:77]
    node _immediate_T_9 = cat(_immediate_T_7, _immediate_T_8) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 154:32]
    node _immediate_T_10 = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 155:56]
    node _immediate_T_11 = bits(_immediate_T_10, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 155:37]
    node _immediate_T_12 = mux(_immediate_T_11, UInt<21>("h1fffff"), UInt<21>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 155:37]
    node _immediate_T_13 = bits(io_instruction, 30, 20) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 155:77]
    node _immediate_T_14 = cat(_immediate_T_12, _immediate_T_13) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 155:32]
    node _immediate_T_15 = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 156:56]
    node _immediate_T_16 = bits(_immediate_T_15, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 156:37]
    node _immediate_T_17 = mux(_immediate_T_16, UInt<21>("h1fffff"), UInt<21>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 156:37]
    node _immediate_T_18 = bits(io_instruction, 30, 20) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 156:77]
    node _immediate_T_19 = cat(_immediate_T_17, _immediate_T_18) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 156:32]
    node _immediate_T_20 = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:56]
    node _immediate_T_21 = bits(_immediate_T_20, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:37]
    node _immediate_T_22 = mux(_immediate_T_21, UInt<21>("h1fffff"), UInt<21>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:37]
    node _immediate_T_23 = bits(io_instruction, 30, 25) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:77]
    node _immediate_T_24 = bits(io_instruction, 11, 7) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:101]
    node immediate_hi = cat(_immediate_T_22, _immediate_T_23) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:32]
    node _immediate_T_25 = cat(immediate_hi, _immediate_T_24) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 157:32]
    node _immediate_T_26 = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 159:32]
    node _immediate_T_27 = bits(_immediate_T_26, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 159:13]
    node _immediate_T_28 = mux(_immediate_T_27, UInt<20>("hfffff"), UInt<20>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 159:13]
    node _immediate_T_29 = bits(io_instruction, 7, 7) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 160:23]
    node _immediate_T_30 = bits(io_instruction, 30, 25) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 161:23]
    node _immediate_T_31 = bits(io_instruction, 11, 8) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 162:23]
    node immediate_lo = cat(_immediate_T_31, UInt<1>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 158:32]
    node immediate_hi_hi = cat(_immediate_T_28, _immediate_T_29) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 158:32]
    node immediate_hi_1 = cat(immediate_hi_hi, _immediate_T_30) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 158:32]
    node _immediate_T_32 = cat(immediate_hi_1, immediate_lo) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 158:32]
    node _immediate_T_33 = bits(io_instruction, 31, 12) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 165:47]
    node _immediate_T_34 = cat(_immediate_T_33, UInt<12>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 165:32]
    node _immediate_T_35 = bits(io_instruction, 31, 12) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 167:47]
    node _immediate_T_36 = cat(_immediate_T_35, UInt<12>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 167:32]
    node _immediate_T_37 = bits(io_instruction, 31, 31) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 170:32]
    node _immediate_T_38 = bits(_immediate_T_37, 0, 0) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 170:13]
    node _immediate_T_39 = mux(_immediate_T_38, UInt<12>("hfff"), UInt<12>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 170:13]
    node _immediate_T_40 = bits(io_instruction, 19, 12) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 171:23]
    node _immediate_T_41 = bits(io_instruction, 20, 20) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 172:23]
    node _immediate_T_42 = bits(io_instruction, 30, 21) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 173:23]
    node immediate_lo_1 = cat(_immediate_T_42, UInt<1>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 169:30]
    node immediate_hi_hi_1 = cat(_immediate_T_39, _immediate_T_40) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 169:30]
    node immediate_hi_2 = cat(immediate_hi_hi_1, _immediate_T_41) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 169:30]
    node _immediate_T_43 = cat(immediate_hi_2, immediate_lo_1) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 169:30]
    node _immediate_T_44 = eq(UInt<5>("h13"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_45 = mux(_immediate_T_44, _immediate_T_9, _immediate_T_4) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_46 = eq(UInt<2>("h3"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_47 = mux(_immediate_T_46, _immediate_T_14, _immediate_T_45) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_48 = eq(UInt<7>("h67"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_49 = mux(_immediate_T_48, _immediate_T_19, _immediate_T_47) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_50 = eq(UInt<6>("h23"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_51 = mux(_immediate_T_50, _immediate_T_25, _immediate_T_49) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_52 = eq(UInt<7>("h63"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_53 = mux(_immediate_T_52, _immediate_T_32, _immediate_T_51) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_54 = eq(UInt<6>("h37"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_55 = mux(_immediate_T_54, _immediate_T_34, _immediate_T_53) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_56 = eq(UInt<5>("h17"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_57 = mux(_immediate_T_56, _immediate_T_36, _immediate_T_55) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _immediate_T_58 = eq(UInt<7>("h6f"), opcode) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node immediate = mux(_immediate_T_58, _immediate_T_43, _immediate_T_57) @[src/main/scala/chisel3/util/Mux.scala 77:13]
    node _io_ex_aluop1_source_T = eq(opcode, UInt<5>("h17")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 180:12]
    node _io_ex_aluop1_source_T_1 = eq(opcode, UInt<7>("h63")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 180:45]
    node _io_ex_aluop1_source_T_2 = or(_io_ex_aluop1_source_T, _io_ex_aluop1_source_T_1) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 180:35]
    node _io_ex_aluop1_source_T_3 = eq(opcode, UInt<7>("h6f")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 180:78]
    node _io_ex_aluop1_source_T_4 = or(_io_ex_aluop1_source_T_2, _io_ex_aluop1_source_T_3) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 180:68]
    node _io_ex_aluop1_source_T_5 = mux(_io_ex_aluop1_source_T_4, UInt<1>("h1"), UInt<1>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 179:29]
    node _io_ex_aluop2_source_T = eq(opcode, UInt<6>("h33")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 193:12]
    node _io_ex_aluop2_source_T_1 = mux(_io_ex_aluop2_source_T, UInt<1>("h0"), UInt<1>("h1")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 192:29]
    node _io_memory_read_enable_T = eq(opcode, UInt<2>("h3")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 202:12]
    node _io_memory_read_enable_T_1 = mux(_io_memory_read_enable_T, UInt<1>("h1"), UInt<1>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 201:31]
    node _io_memory_write_enable_T = eq(opcode, UInt<6>("h23")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 208:12]
    node _io_memory_write_enable_T_1 = mux(_io_memory_write_enable_T, UInt<1>("h1"), UInt<1>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 207:32]
    node _io_wb_reg_write_source_T = eq(opcode, UInt<2>("h3")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 215:12]
    node _io_wb_reg_write_source_T_1 = mux(_io_wb_reg_write_source_T, UInt<1>("h1"), UInt<1>("h0")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 214:32]
    node _io_wb_reg_write_source_T_2 = eq(opcode, UInt<6>("h33")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 225:15]
    node _io_wb_reg_write_source_T_3 = eq(opcode, UInt<5>("h13")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 225:49]
    node _io_wb_reg_write_source_T_4 = or(_io_wb_reg_write_source_T_2, _io_wb_reg_write_source_T_3) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 225:39]
    node _io_wb_reg_write_source_T_5 = eq(opcode, UInt<6>("h37")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 226:16]
    node _io_wb_reg_write_source_T_6 = or(_io_wb_reg_write_source_T_4, _io_wb_reg_write_source_T_5) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 225:72]
    node _io_wb_reg_write_source_T_7 = eq(opcode, UInt<5>("h17")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 226:47]
    node _io_wb_reg_write_source_T_8 = or(_io_wb_reg_write_source_T_6, _io_wb_reg_write_source_T_7) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 226:37]
    node _io_wb_reg_write_source_T_9 = eq(opcode, UInt<2>("h3")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 227:15]
    node _io_wb_reg_write_source_T_10 = eq(opcode, UInt<7>("h6f")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 228:15]
    node _io_wb_reg_write_source_T_11 = eq(opcode, UInt<7>("h67")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 228:46]
    node _io_wb_reg_write_source_T_12 = or(_io_wb_reg_write_source_T_10, _io_wb_reg_write_source_T_11) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 228:36]
    node _io_wb_reg_write_source_T_13 = mux(_io_wb_reg_write_source_T_12, UInt<2>("h3"), UInt<2>("h0")) @[src/main/scala/chisel3/util/Mux.scala 141:16]
    node _io_wb_reg_write_source_T_14 = mux(_io_wb_reg_write_source_T_9, UInt<2>("h1"), _io_wb_reg_write_source_T_13) @[src/main/scala/chisel3/util/Mux.scala 141:16]
    node _io_wb_reg_write_source_T_15 = mux(_io_wb_reg_write_source_T_8, UInt<2>("h0"), _io_wb_reg_write_source_T_14) @[src/main/scala/chisel3/util/Mux.scala 141:16]
    node _io_reg_write_enable_T = eq(opcode, UInt<6>("h33")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 232:34]
    node _io_reg_write_enable_T_1 = eq(opcode, UInt<5>("h13")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 232:70]
    node _io_reg_write_enable_T_2 = or(_io_reg_write_enable_T, _io_reg_write_enable_T_1) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 232:59]
    node _io_reg_write_enable_T_3 = eq(opcode, UInt<2>("h3")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 233:13]
    node _io_reg_write_enable_T_4 = or(_io_reg_write_enable_T_2, _io_reg_write_enable_T_3) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 232:94]
    node _io_reg_write_enable_T_5 = eq(opcode, UInt<5>("h17")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 233:48]
    node _io_reg_write_enable_T_6 = or(_io_reg_write_enable_T_4, _io_reg_write_enable_T_5) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 233:37]
    node _io_reg_write_enable_T_7 = eq(opcode, UInt<6>("h37")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 233:83]
    node _io_reg_write_enable_T_8 = or(_io_reg_write_enable_T_6, _io_reg_write_enable_T_7) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 233:72]
    node _io_reg_write_enable_T_9 = eq(opcode, UInt<7>("h6f")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 234:13]
    node _io_reg_write_enable_T_10 = or(_io_reg_write_enable_T_8, _io_reg_write_enable_T_9) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 233:105]
    node _io_reg_write_enable_T_11 = eq(opcode, UInt<7>("h67")) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 234:46]
    node _io_reg_write_enable_T_12 = or(_io_reg_write_enable_T_10, _io_reg_write_enable_T_11) @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 234:35]
    io_regs_reg1_read_address <= _io_regs_reg1_read_address_T_1 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 148:29]
    io_regs_reg2_read_address <= rs2 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 149:29]
    io_ex_immediate <= immediate @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 178:19]
    io_ex_aluop1_source <= _io_ex_aluop1_source_T_5 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 179:23]
    io_ex_aluop2_source <= _io_ex_aluop2_source_T_1 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 192:23]
    io_memory_read_enable <= _io_memory_read_enable_T_1 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 201:25]
    io_memory_write_enable <= _io_memory_write_enable_T_1 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 207:26]
    io_wb_reg_write_source <= _io_wb_reg_write_source_T_15 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 222:26]
    io_reg_write_enable <= _io_reg_write_enable_T_12 @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 232:23]
    io_reg_write_address <= rd @[ca2023-lab3/src/main/scala/riscv/core/InstructionDecode.scala 235:24]
